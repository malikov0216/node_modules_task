{"version":3,"sources":["../../../src/features/selection/SelectionBehavior.js"],"names":["SelectionBehavior","elementRegistry","eventBus","renderer","selection","_elementRegistry","_renderer","_selection","on","id","element","get","select","row","currentSelection","deselect","col","$inject"],"mappings":";;AAAA;;;IAGqBA,iB,GAEnB,2BAAYC,eAAZ,EAA6BC,QAA7B,EAAuCC,QAAvC,EAAiDC,SAAjD,EAA4D;AAAA;;AAC1D,OAAKC,gBAAL,GAAwBJ,eAAxB;AACA,OAAKK,SAAL,GAAiBH,QAAjB;AACA,OAAKI,UAAL,GAAkBH,SAAlB;;AAEAF,WAASM,EAAT,CAAY,CAAE,YAAF,EAAgB,kBAAhB,CAAZ,EAAiD,gBAAY;AAAA,QAATC,EAAS,QAATA,EAAS;;AAC3D,QAAMC,UAAUT,gBAAgBU,GAAhB,CAAoBF,EAApB,CAAhB;;AAEA,QAAI,CAACC,OAAL,EAAc;AACZ;AACD;;AAEDN,cAAUQ,MAAV,CAAiBF,OAAjB;AACD,GARD;;AAUAR,WAASM,EAAT,CAAY,YAAZ,EAA0B,iBAAa;AAAA,QAAVK,GAAU,SAAVA,GAAU;;AACrC,QAAMC,mBAAmBV,UAAUO,GAAV,EAAzB;;AAEA,QAAI,CAACG,gBAAL,EAAuB;AACrB;AACD;;AAED,QAAID,QAAQC,iBAAiBD,GAA7B,EAAkC;AAChCT,gBAAUW,QAAV;AACD;AACF,GAVD;;AAYAb,WAASM,EAAT,CAAY,YAAZ,EAA0B,iBAAa;AAAA,QAAVQ,GAAU,SAAVA,GAAU;;AACrC,QAAMF,mBAAmBV,UAAUO,GAAV,EAAzB;;AAEA,QAAI,CAACG,gBAAL,EAAuB;AACrB;AACD;;AAED,QAAIE,QAAQF,iBAAiBE,GAA7B,EAAkC;AAChCZ,gBAAUW,QAAV;AACD;AACF,GAVD;AAWD,C;;eAxCkBf,iB;;;AA4CrBA,kBAAkBiB,OAAlB,GAA4B,CAC1B,iBAD0B,EAE1B,UAF0B,EAG1B,UAH0B,EAI1B,WAJ0B,CAA5B","file":"SelectionBehavior.js","sourcesContent":["/**\r\n * Selects table cells on on left & right click.\r\n */\r\nexport default class SelectionBehavior {\r\n\r\n  constructor(elementRegistry, eventBus, renderer, selection) {\r\n    this._elementRegistry = elementRegistry;\r\n    this._renderer = renderer;\r\n    this._selection = selection;\r\n\r\n    eventBus.on([ 'cell.click', 'cell.contextmenu'], ({ id }) => {\r\n      const element = elementRegistry.get(id);\r\n\r\n      if (!element) {\r\n        return;\r\n      }\r\n\r\n      selection.select(element);\r\n    });\r\n\r\n    eventBus.on('row.remove', ({ row }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (row === currentSelection.row) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n\r\n    eventBus.on('col.remove', ({ col }) => {\r\n      const currentSelection = selection.get();\r\n\r\n      if (!currentSelection) {\r\n        return;\r\n      }\r\n\r\n      if (col === currentSelection.col) {\r\n        selection.deselect();\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\nSelectionBehavior.$inject = [\r\n  'elementRegistry',\r\n  'eventBus',\r\n  'renderer',\r\n  'selection'\r\n];"]}