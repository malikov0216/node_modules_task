{"version":3,"sources":["../../../src/features/context-menu/ContextMenuCloseBehavior.js"],"names":["COMMANDS","ContextMenuCloseBehavior","contextMenu","eventBus","on","command","indexOf","close","$inject"],"mappings":";;AAAA,IAAMA,WAAW,CACf,SADe,EAEf,YAFe,EAGf,SAHe,EAIf,YAJe,CAAjB;;IAOqBC,wB,GACnB,kCAAYC,WAAZ,EAAyBC,QAAzB,EAAmC;AAAA;;AACjCA,WAASC,EAAT,CAAY,uBAAZ,EAAqC,gBAAiB;AAAA,QAAdC,OAAc,QAAdA,OAAc;;;AAEpD;AACA,QAAIL,SAASM,OAAT,CAAiBD,OAAjB,MAA8B,CAAC,CAAnC,EAAsC;AACpCH,kBAAYK,KAAZ;AACD;AAEF,GAPD;;AASA;AACAJ,WAASC,EAAT,CAAY,uBAAZ,EAAqC,YAAM;AACzCF,gBAAYK,KAAZ;AACD,GAFD;AAGD,C;;eAfkBN,wB;;;AAkBrBA,yBAAyBO,OAAzB,GAAmC,CAAE,aAAF,EAAiB,UAAjB,CAAnC","file":"ContextMenuCloseBehavior.js","sourcesContent":["const COMMANDS = [\r\n  'row.add',\r\n  'row.remove',\r\n  'col.add',\r\n  'col.remove'\r\n];\r\n\r\nexport default class ContextMenuCloseBehavior {\r\n  constructor(contextMenu, eventBus) {\r\n    eventBus.on('commandStack.executed', ({ command }) => {\r\n\r\n      // close on certain modeling operations\r\n      if (COMMANDS.indexOf(command) !== -1) {\r\n        contextMenu.close();\r\n      }\r\n\r\n    });\r\n\r\n    // always close on undo\r\n    eventBus.on('commandStack.reverted', () => {\r\n      contextMenu.close();\r\n    });\r\n  }\r\n}\r\n\r\nContextMenuCloseBehavior.$inject = [ 'contextMenu', 'eventBus' ];"]}