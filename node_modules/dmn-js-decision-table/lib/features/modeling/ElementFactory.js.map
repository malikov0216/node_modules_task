{"version":3,"sources":["../../../src/features/modeling/ElementFactory.js"],"names":["is","BaseElementFactory","ElementFactory","dmnFactory","_dmnFactory","tType","attrs","businessObject","type","additionalAttrs","col","Error","create","id","$inject"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,EAAT,QAAmB,kCAAnB;;AAEA,OAAOC,kBAAP,MAA+B,kCAA/B;;IAIqBC,c;;;AAEnB,0BAAYC,UAAZ,EAAwB;AAAA;;AAAA;;AAGtB,UAAKC,WAAL,GAAmBD,UAAnB;AAHsB;AAIvB;;;;2BAEME,K,EAAOC,K,EAAO;;AAEnB,UAAMH,aAAa,KAAKC,WAAxB;;AAFmB,UAIbG,cAJa,GAIgCD,KAJhC,CAIbC,cAJa;AAAA,UAIGC,IAJH,GAIgCF,KAJhC,CAIGE,IAJH;AAAA,UAIYC,eAJZ,4BAIgCH,KAJhC;;AAMnB,UAAI,CAACC,cAAL,EAAqB;;AAEnB,YAAI,CAACC,IAAL,EAAW;;AAET,cAAIH,UAAU,MAAd,EAAsB;AACpBG,mBAAO,mBAAP;AACD,WAFD,MAEO,IAAIH,UAAU,MAAd,EAAsB;AAAA,gBAEzBK,GAFyB,GAGvBD,eAHuB,CAEzBC,GAFyB;;;AAK3B,gBAAIV,GAAGU,GAAH,EAAQ,kBAAR,CAAJ,EAAiC;AAC/BF,qBAAO,uBAAP;AACD;;AAED,gBAAIR,GAAGU,GAAH,EAAQ,iBAAR,CAAJ,EAAgC;AAC9BF,qBAAO,gBAAP;AACD;AACF;;AAED,cAAI,CAACA,IAAL,EAAW;AACT,kBAAM,IAAIG,KAAJ,CAAU,qBAAV,CAAN;AACD;AACF;;AAEDJ,yBAAiBJ,WAAWS,MAAX,CAAkBJ,IAAlB,CAAjB;AACD;;AAED,oIAAoBH,KAApB;AACEE,sCADF;AAEEM,YAAIN,eAAeM;AAFrB,SAGKJ,eAHL;AAKD;;;;EA/CyCR,kB;;eAAvBC,c;;;AAmDrBA,eAAeY,OAAf,GAAyB,CAAE,YAAF,CAAzB","file":"ElementFactory.js","sourcesContent":["import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nimport BaseElementFactory from 'table-js/lib/core/ElementFactory';\n\n\n\nexport default class ElementFactory extends BaseElementFactory {\n\n  constructor(dmnFactory) {\n    super();\n\n    this._dmnFactory = dmnFactory;\n  }\n\n  create(tType, attrs) {\n\n    const dmnFactory = this._dmnFactory;\n\n    let { businessObject, type, ...additionalAttrs } = attrs;\n\n    if (!businessObject) {\n\n      if (!type) {\n\n        if (tType === 'root') {\n          type = 'dmn:DecisionTable';\n        } else if (tType === 'cell') {\n          let {\n            col\n          } = additionalAttrs;\n\n          if (is(col, 'dmn:OutputClause')) {\n            type = 'dmn:LiteralExpression';\n          }\n\n          if (is(col, 'dmn:InputClause')) {\n            type = 'dmn:UnaryTests';\n          }\n        }\n\n        if (!type) {\n          throw new Error('cannot guess <type>');\n        }\n      }\n\n      businessObject = dmnFactory.create(type);\n    }\n\n    return super.create(tType, {\n      businessObject,\n      id: businessObject.id,\n      ...additionalAttrs\n    });\n  }\n\n}\n\nElementFactory.$inject = [ 'dmnFactory' ];\n"]}