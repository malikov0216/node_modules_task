{"version":3,"sources":["../../../../src/features/add-rule/components/AddRuleFootComponent.js"],"names":["Component","inject","AddRuleFootComponent","props","context","handleClick","e","stopPropagation","addRule","bind","_eventBus","injector","get","fire","cols","cells","sheet","getRoot","businessObject","input","length","push","i","className","$instanceOf","$inject"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;;AAEA,SACEC,MADF,QAEO,yBAFP;;IAIqBC,oB;;;AACnB,gCAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,4IACpBD,KADoB,EACbC,OADa;;AAAA,UAY5BC,WAZ4B,GAYd,UAACC,CAAD,EAAO;AACnBA,QAAEC,eAAF;;AAEA,YAAKC,OAAL;AACD,KAhB2B;;AAG1BP;;AAEA,UAAKO,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,OAAf;AAL0B;AAM3B;;;;yCAEoB;AACnB,WAAKC,SAAL,GAAiB,KAAKN,OAAL,CAAaO,QAAb,CAAsBC,GAAtB,CAA0B,UAA1B,CAAjB;AACD;;;8BAQS;AACR,WAAKF,SAAL,CAAeG,IAAf,CAAoB,SAApB;AACD;;;6BAEQ;AAAA,UACCC,IADD,GACU,KAAKX,KADf,CACCW,IADD;;;AAGP,UAAMC,QAAQ,sBACE,cADF,yBAEM,2BAFN;AAAA,iBAEwC;AAFxC,aAAd;;AAHO,2BASoB,KAAKC,KAAL,CAAWC,OAAX,EATpB;AAAA,UASCC,cATD,kBASCA,cATD;;AAWP,UAAI,CAACA,eAAeC,KAAhB,IAAyB,CAACD,eAAeC,KAAf,CAAqBC,MAAnD,EAA2D;AACzDL,cAAMM,IAAN,sBAAyB,YAAzB;AACD;;AAED,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIR,KAAKM,MAAL,GAAc,CAAlC,EAAqCE,GAArC,EAA0C;AACxC,YAAIC,YAAY,UAAhB;;AAEA,YAAML,kBAAiBJ,KAAKQ,CAAL,KAAWR,KAAKQ,CAAL,EAAQJ,cAA1C;;AAEA,YAAIA,eAAJ,EAAoB;AAClB,cAAIA,gBAAeM,WAAf,CAA2B,iBAA3B,CAAJ,EAAmD;AACjDD,yBAAa,aAAb;AACD;;AAED,cAAIL,gBAAeM,WAAf,CAA2B,kBAA3B,CAAJ,EAAoD;AAClDD,yBAAa,cAAb;AACD;AACF;;AAEDR,cAAMM,IAAN,sBAA2BE,SAA3B;AACD;;AAED,qCAEc,qBAFd,6BAKQR,KALR;AAAA,mBAGc,KAAKV;AAHnB;AASD;;;;EAjE+CL,S;;eAA7BE,oB;;;AAoErBA,qBAAqBuB,OAArB,GAA+B,CAAE,OAAF,CAA/B","file":"AddRuleFootComponent.js","sourcesContent":["import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nexport default class AddRuleFootComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n\n    this.addRule = this.addRule.bind(this);\n  }\n\n  componentWillMount() {\n    this._eventBus = this.context.injector.get('eventBus');\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.addRule();\n  }\n\n  addRule() {\n    this._eventBus.fire('addRule');\n  }\n\n  render() {\n    const { cols } = this.props;\n\n    const cells = [\n      <td className=\"add-rule-add\">\n        <span className=\"dmn-icon-plus action-icon\" title=\"Add Rule\"></span>\n      </td>\n    ];\n\n    const { businessObject } = this.sheet.getRoot();\n\n    if (!businessObject.input || !businessObject.input.length) {\n      cells.push(<td className=\"input-cell\">-</td>);\n    }\n\n    for (let i = 0; i < cols.length + 1; i++) {\n      let className = 'add-rule';\n\n      const businessObject = cols[i] && cols[i].businessObject;\n\n      if (businessObject) {\n        if (businessObject.$instanceOf('dmn:InputClause')) {\n          className += ' input-cell';\n        }\n\n        if (businessObject.$instanceOf('dmn:OutputClause')) {\n          className += ' output-cell';\n        }\n      }\n\n      cells.push(<td className={ className }>-</td>);\n    }\n\n    return (\n      <tfoot\n        className=\"actionable add-rule\"\n        onClick={ this.handleClick }>\n        <tr>\n          { cells }\n        </tr>\n      </tfoot>\n    );\n  }\n}\n\nAddRuleFootComponent.$inject = [ 'sheet' ];"]}