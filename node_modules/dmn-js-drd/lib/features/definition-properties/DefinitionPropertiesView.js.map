{"version":3,"sources":["../../../src/features/definition-properties/DefinitionPropertiesView.js"],"names":["domify","query","domQuery","delegate","domDelegate","DefinitionIdView","eventBus","canvas","_eventBus","_canvas","on","_init","event","update","$inject","prototype","parent","getContainer","container","_container","HTML_MARKUP","appendChild","nameElement","idElement","bind","stopPropagation","fire","html","newName","businessObject","getRootElement","textContent","name","id"],"mappings":"AAAA,SACEA,MADF,EAEEC,SAASC,QAFX,EAGEC,YAAYC,WAHd,QAIO,SAJP;;AAOA,eAAe,SAASC,gBAAT,CAA0BC,QAA1B,EAAoCC,MAApC,EAA4C;AACzD,OAAKC,SAAL,GAAiBF,QAAjB;AACA,OAAKG,OAAL,GAAeF,MAAf;;AAEAD,WAASI,EAAT,CAAY,cAAZ,EAA4B,YAAW;AACrC,SAAKC,KAAL;AACD,GAFD,EAEG,IAFH;;AAIAL,WAASI,EAAT,CAAY,aAAZ,EAA2B,UAASE,KAAT,EAAgB;AACzC,SAAKC,MAAL;AACD,GAFD,EAEG,IAFH;AAGD;;AAEDR,iBAAiBS,OAAjB,GAA2B,CAAE,UAAF,EAAc,QAAd,CAA3B;;AAEA;;;AAGAT,iBAAiBU,SAAjB,CAA2BJ,KAA3B,GAAmC,YAAW;AAC5C,MAAIJ,SAAS,KAAKE,OAAlB;AAAA,MACIH,WAAW,KAAKE,SADpB;;AAGA,MAAIQ,SAAST,OAAOU,YAAP,EAAb;AAAA,MACIC,YAAY,KAAKC,UAAL,GAAkBnB,OAAOK,iBAAiBe,WAAxB,CADlC;;AAGAJ,SAAOK,WAAP,CAAmBH,SAAnB;;AAEA,OAAKI,WAAL,GAAmBpB,SAAS,uBAAT,EAAkC,KAAKiB,UAAvC,CAAnB;AACA,OAAKI,SAAL,GAAiBrB,SAAS,qBAAT,EAAgC,KAAKiB,UAArC,CAAjB;;AAEAf,cAAYoB,IAAZ,CACEN,SADF,EAEE,4CAFF,EAEgD,WAFhD,EAGE,UAASN,KAAT,EAAgB;AACdA,UAAMa,eAAN;AACD,GALH;;AAQAnB,WAASoB,IAAT,CAAc,yBAAd,EAAyC;AACvCC,UAAMT;AADiC,GAAzC;AAGD,CAvBD;;AAyBAb,iBAAiBU,SAAjB,CAA2BF,MAA3B,GAAoC,UAASe,OAAT,EAAkB;AACpD,MAAIC,iBAAiB,KAAKpB,OAAL,CAAaqB,cAAb,GAA8BD,cAAnD;;AAEA,OAAKP,WAAL,CAAiBS,WAAjB,GAA+BF,eAAeG,IAA9C;AACA,OAAKT,SAAL,CAAeQ,WAAf,GAA6BF,eAAeI,EAA5C;AACD,CALD;;AAQA;;AAEA5B,iBAAiBe,WAAjB,GACE,kCACE,kEADF,GAEE,8DAFF,GAGA,QAJF","file":"DefinitionPropertiesView.js","sourcesContent":["import {\n  domify,\n  query as domQuery,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nexport default function DefinitionIdView(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  eventBus.on('diagram.init', function() {\n    this._init();\n  }, this);\n\n  eventBus.on('import.done', function(event) {\n    this.update();\n  }, this);\n}\n\nDefinitionIdView.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Initialize\n */\nDefinitionIdView.prototype._init = function() {\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var parent = canvas.getContainer(),\n      container = this._container = domify(DefinitionIdView.HTML_MARKUP);\n\n  parent.appendChild(container);\n\n  this.nameElement = domQuery('.dmn-definitions-name', this._container);\n  this.idElement = domQuery('.dmn-definitions-id', this._container);\n\n  domDelegate.bind(\n    container,\n    '.dmn-definitions-name, .dmn-definitions-id', 'mousedown',\n    function(event) {\n      event.stopPropagation();\n    }\n  );\n\n  eventBus.fire('definitionIdView.create', {\n    html: container\n  });\n};\n\nDefinitionIdView.prototype.update = function(newName) {\n  var businessObject = this._canvas.getRootElement().businessObject;\n\n  this.nameElement.textContent = businessObject.name;\n  this.idElement.textContent = businessObject.id;\n};\n\n\n/* markup definition */\n\nDefinitionIdView.HTML_MARKUP =\n  '<div class=\"dmn-definitions\">' +\n    '<div class=\"dmn-definitions-name\" title=\"Definition Name\"></div>' +\n    '<div class=\"dmn-definitions-id\" title=\"Definition ID\"></div>' +\n  '</div>';\n"]}