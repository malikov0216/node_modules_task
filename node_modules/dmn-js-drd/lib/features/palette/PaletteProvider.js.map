{"version":3,"sources":["../../../src/features/palette/PaletteProvider.js"],"names":["assign","PaletteProvider","palette","create","elementFactory","lassoTool","translate","_palette","_create","_elementFactory","_lassoTool","_translate","registerProvider","$inject","prototype","getPaletteEntries","element","actions","createAction","type","group","className","title","options","createListener","event","shape","createShape","start","action","dragstart","click","activateSelection","separator"],"mappings":"AAAA,SACEA,MADF,QAEO,UAFP;;AAKA;;;AAGA,eAAe,SAASC,eAAT,CACXC,OADW,EACFC,MADE,EACMC,cADN,EAEXC,SAFW,EAEAC,SAFA,EAEW;;AAExB,OAAKC,QAAL,GAAgBL,OAAhB;AACA,OAAKM,OAAL,GAAeL,MAAf;AACA,OAAKM,eAAL,GAAuBL,cAAvB;AACA,OAAKM,UAAL,GAAkBL,SAAlB;AACA,OAAKM,UAAL,GAAkBL,SAAlB;;AAEAJ,UAAQU,gBAAR,CAAyB,IAAzB;AACD;;AAEDX,gBAAgBY,OAAhB,GAA0B,CACxB,SADwB,EAExB,QAFwB,EAGxB,gBAHwB,EAIxB,WAJwB,EAKxB,WALwB,CAA1B;;AASAZ,gBAAgBa,SAAhB,CAA0BC,iBAA1B,GAA8C,UAASC,OAAT,EAAkB;;AAE9D,MAAIC,UAAU,EAAd;AAAA,MACId,SAAS,KAAKK,OADlB;AAAA,MAEIJ,iBAAiB,KAAKK,eAF1B;AAAA,MAGIJ,YAAY,KAAKK,UAHrB;AAAA,MAIIJ,YAAY,KAAKK,UAJrB;;AAMA,WAASO,YAAT,CAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,SAAnC,EAA8CC,KAA9C,EAAqDC,OAArD,EAA8D;;AAE5D,aAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,UAAIC,QAAQtB,eAAeuB,WAAf,CAA2B3B,OAAO,EAAEmB,MAAMA,IAAR,EAAP,EAAuBI,OAAvB,CAA3B,CAAZ;;AAEApB,aAAOyB,KAAP,CAAaH,KAAb,EAAoBC,KAApB;AACD;;AAED,WAAO;AACLN,aAAOA,KADF;AAELC,iBAAWA,SAFN;AAGLC,aAAOA,KAHF;AAILO,cAAQ;AACNC,mBAAWN,cADL;AAENO,eAAOP;AAFD;AAJH,KAAP;AASD;;AAEDxB,SAAOiB,OAAP,EAAgB;AACd,kBAAc;AACZG,aAAO,OADK;AAEZC,iBAAW,qBAFC;AAGZC,aAAOhB,UAAU,yBAAV,CAHK;AAIZuB,cAAQ;AACNE,eAAO,eAASN,KAAT,EAAgB;AACrBpB,oBAAU2B,iBAAV,CAA4BP,KAA5B;AACD;AAHK;AAJI,KADA;AAWd,sBAAkB;AAChBL,aAAO,OADS;AAEhBa,iBAAW;AAFK,KAXJ;AAed,uBAAmBf,aACjB,cADiB,EACD,KADC,EACM,mBADN,CAfL;AAkBd,yBAAqBA,aACnB,eADmB,EACF,KADE,EACK,qBADL,CAlBP;AAqBd,+BAA2BA,aACzB,qBADyB,EACF,KADE,EACK,2BADL,CArBb;AAwBd,uCAAmCA,aACjC,4BADiC,EACH,KADG,EACI,6BADJ;AAxBrB,GAAhB;;AA6BA,SAAOD,OAAP;AACD,CAzDD","file":"PaletteProvider.js","sourcesContent":["import {\n  assign\n} from 'min-dash';\n\n\n/**\n * A palette provider for DMN 1.1 elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    lassoTool, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'lassoTool',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction(\n      'dmn:Decision', 'drd', 'dmn-icon-decision'\n    ),\n    'create.input-data': createAction(\n      'dmn:InputData', 'drd', 'dmn-icon-input-data'\n    ),\n    'create.knowledge-source': createAction(\n      'dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source'\n    ),\n    'create.business-knowledge-model': createAction(\n      'dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge'\n    )\n  });\n\n  return actions;\n};\n"]}