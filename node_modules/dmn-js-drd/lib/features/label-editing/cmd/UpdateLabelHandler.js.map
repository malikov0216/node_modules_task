{"version":3,"sources":["../../../../src/features/label-editing/cmd/UpdateLabelHandler.js"],"names":["getLabel","setLabel","UpdateLabelHandler","setText","element","text","label","labelTarget","execute","ctx","oldLabel","newLabel","revert"],"mappings":"AAAA,SACEA,QADF,EAEEC,QAFF,QAGO,cAHP;;AAMA;;;AAGA,eAAe,SAASC,kBAAT,GAA8B;;AAE3C;;;;;;;;AAQA,WAASC,OAAT,CAAiBC,OAAjB,EAA0BC,IAA1B,EAAgC;;AAE9B;AACA,QAAIC,QAAQF,QAAQE,KAAR,IAAiBF,OAA7B;;AAEA,QAAIG,cAAcH,QAAQG,WAAR,IAAuBH,OAAzC;;AAEAH,aAASK,KAAT,EAAgBD,IAAhB,EAAsBE,gBAAgBD,KAAtC;;AAEA,WAAO,CAAEA,KAAF,EAASC,WAAT,CAAP;AACD;;AAED,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpBA,QAAIC,QAAJ,GAAeV,SAASS,IAAIL,OAAb,CAAf;AACA,WAAOD,QAAQM,IAAIL,OAAZ,EAAqBK,IAAIE,QAAzB,CAAP;AACD;;AAED,WAASC,MAAT,CAAgBH,GAAhB,EAAqB;AACnB,WAAON,QAAQM,IAAIL,OAAZ,EAAqBK,IAAIC,QAAzB,CAAP;AACD;;AAED;;AAEA,OAAKF,OAAL,GAAeA,OAAf;AACA,OAAKI,MAAL,GAAcA,MAAd;AACD","file":"UpdateLabelHandler.js","sourcesContent":["import {\n  getLabel,\n  setLabel\n} from '../LabelUtil';\n\n\n/**\n * A handler that updates the name of a DMN element.\n */\nexport default function UpdateLabelHandler() {\n\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {String} text\n   */\n  function setText(element, text) {\n\n    // external label if present\n    var label = element.label || element;\n\n    var labelTarget = element.labelTarget || element;\n\n    setLabel(label, text, labelTarget !== label);\n\n    return [ label, labelTarget ];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  }\n\n  // API\n\n  this.execute = execute;\n  this.revert = revert;\n}\n"]}