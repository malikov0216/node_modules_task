{"version":3,"sources":["../../src/components/ValidatedInput.js"],"names":["Component","Input","ValidatedInput","props","context","validate","value","validationWarning","undefined","state","onInput","bind","onKeyDown","onKeyUp","setState","isValid","event","target","placeholder","type","className","parentClasses","join","inputClasses","push"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;;AAEA;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA;;;;IAGqBC,c;;;AAEnB,0BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,gIACpBD,KADoB,EACbC,OADa;;AAAA,QAGlBC,QAHkB,GAGEF,KAHF,CAGlBE,QAHkB;AAAA,QAGRC,KAHQ,GAGEH,KAHF,CAGRG,KAHQ;;;AAK1B,QAAMC,oBAAoBF,WAAWA,SAASC,SAAS,EAAlB,CAAX,GAAmCE,SAA7D;;AAEA,UAAKC,KAAL,GAAa;AACXF,0CADW;AAEXD;AAFW,KAAb;;AAKA,UAAKI,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,OAAf;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,OAAjB;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,OAAf;AAd0B;AAe3B;;;;8CAEyBR,K,EAAO;AAAA,UACvBE,QADuB,GACHF,KADG,CACvBE,QADuB;AAAA,UACbC,KADa,GACHH,KADG,CACbG,KADa;;;AAG/B,UAAMC,oBAAoBF,WAAWA,SAASC,SAAS,EAAlB,CAAX,GAAmCE,SAA7D;;AAEA,WAAKM,QAAL,CAAc;AACZP,4CADY;AAEZD;AAFY,OAAd;AAID;;;4BAEOA,K,EAAO;AAAA,mBACiB,KAAKH,KADtB;AAAA,UACLO,OADK,UACLA,OADK;AAAA,UACIL,QADJ,UACIA,QADJ;;;AAGb,UAAME,oBAAoBF,WAAWA,SAASC,KAAT,CAAX,GAA6BE,SAAvD;;AAEA,WAAKM,QAAL,CAAc;AACZP,4CADY;AAEZD;AAFY,OAAd;;AAKA,UAAI,OAAOI,OAAP,KAAmB,UAAvB,EAAmC;AACjC;AACD;;AAEDA,iBAAWA,QAAQ;AACjBK,iBAAS,CAACR,iBADO;AAEjBD;AAFiB,OAAR,CAAX;AAID;;;8BAESU,K,EAAO;AACT,UAAEC,MAAF,GAAaD,KAAb,CAAEC,MAAF;AAAA,UACEX,KADF,GACYW,MADZ,CACEX,KADF;AADS,oBAIiB,KAAKH,KAJtB;AAAA,UAIPS,SAJO,WAIPA,SAJO;AAAA,UAIIP,QAJJ,WAIIA,QAJJ;;;AAMf,UAAME,oBAAoBF,WAAWA,SAASC,KAAT,CAAX,GAA6BE,SAAvD;;AAEA,UAAI,OAAOI,SAAP,KAAqB,UAAzB,EAAqC;AACnC;AACD;;AAEDA,gBAAU;AACRG,iBAAS,CAACR,iBADF;AAERD,oBAFQ;AAGRU;AAHQ,OAAV;AAKD;;;4BAEOA,K,EAAO;AACP,UAAEC,MAAF,GAAaD,KAAb,CAAEC,MAAF;AAAA,UACEX,KADF,GACYW,MADZ,CACEX,KADF;AADO,oBAIiB,KAAKH,KAJtB;AAAA,UAILU,OAJK,WAILA,OAJK;AAAA,UAIIR,QAJJ,WAIIA,QAJJ;;;AAMb,UAAME,oBAAoBF,WAAWA,SAASC,KAAT,CAAX,GAA6BE,SAAvD;;AAEA,UAAI,OAAOK,OAAP,KAAmB,UAAvB,EAAmC;AACjC;AACD;;AAEDA,cAAQ;AACNE,iBAAS,CAACR,iBADJ;AAEND,oBAFM;AAGNU;AAHM,OAAR;AAKD;;;6BAEQ;AAAA,oBACkC,KAAKb,KADvC;AAAA,UACCe,WADD,WACCA,WADD;AAAA,UACcC,IADd,WACcA,IADd;AAAA,UACoBC,SADpB,WACoBA,SADpB;AAAA,mBAG8B,KAAKX,KAHnC;AAAA,UAGCF,iBAHD,UAGCA,iBAHD;AAAA,UAGoBD,KAHpB,UAGoBA,KAHpB;;;AAKP,UAAMe,gBAAgB,CACpB,qBADoB,EAEpBD,SAFoB,EAGpBE,IAHoB,CAGf,GAHe,CAAtB;;AAKA,UAAMC,eAAe,EAArB;;AAEA,UAAIhB,iBAAJ,EAAuB;AACrBgB,qBAAaC,IAAb,CAAkB,SAAlB;AACD;;AAED,mCACmBH,aADnB;AAAA,qBAIkBE,YAJlB;AAAA,mBAKgB,KAAKb,OALrB;AAAA,qBAMkB,KAAKE,SANvB;AAAA,mBAOgB,KAAKC,OAPrB;AAAA,uBAQoBK,eAAe,EARnC;AAAA,gBASaC,IATb;AAAA,iBAUcb,SAAS;AAVvB,UAaMC,yCACW,iCADX,EAEMA,iBAFN,IAbN;AAoBD;;;;EA5HyCP,S;;eAAvBE,c","file":"ValidatedInput.js","sourcesContent":["import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"]}